/*---------------------------------------
  Root Variables: Card sizing and Grid dimensions 
----------------------------------------*/

:root {
  --card-aspect: 5 / 7;
  --card-min-width: 70px;
  --card-max-width: 110px;
  --card-height: calc(var(--card-min-width) * var(--card-aspect));
  --grid-cols: 6;
  --grid-rows: 4;
}

/*---------------------------------------
  Page Layout 
----------------------------------------*/
body {
  margin: 0;
  display: block;
  min-height: 70vh;
  background-image: radial-gradient(#beefae,#c5f1b6, #cbf2be, #abd79d);
  overflow: hidden;
}

/*---------------------------------------
  Navbar Layout
----------------------------------------*/

nav {
  display: flex; 
  align-items: center;
  background-color: #AAC598;
  opacity: 75%;
  padding-top: 6px;
  padding-bottom: 6px;
}

nav button {
  cursor: pointer;
  transition: background-color 0.3s ease;
}

nav button:active {
  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.6);
}

.title .nav-right {
  margin-left: auto;
}

.title .nav-center {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: white;
  font-size: 24px;
  font-family: 'Noto Sans', sans-serif;
  gap: 1.5rem;
}

.title .nav-center h1 {
  color: #ffffff;
  text-shadow: 5px 5px 2px #abbd7b;
  font-family: 'Times New Roman', Times, serif;
}

#level-display {
  color: #8D4F15;
  font-family: 'Times New Roman', Times, serif;
}

.title .nav-center a {
  color: #8D4F15;
  font-family: 'Times New Roman', Times, serif;
} 

#previous-level {
  border-radius: 10px;
  border: none;
  padding: 8px;
  color: white;
  font-size: 18px;
  font-family: 'Noto Sans', sans-serif;
  position: relative;
  margin: relative;
  background-color: #5a7b51;
  left: 20%;
}

#reset {
  border-radius: 10px;
  border: none;
  padding: 8px;
  color: white;
  font-size: 18px;
  font-family: 'Noto Sans', sans-serif;
  position: relative;
  margin: relative;
  background-color: #5a7b51;
  left: 25%;
}

#undo {
  border-radius: 10px;
  border: none;
  padding: 8px;
  color: white;
  font-size: 18px;
  font-family: 'Noto Sans', sans-serif;
  position: relative;
  margin: relative;
  background-color: #5a7b51;
  right: 25%;
}

#next-level {
  border-radius: 10px;
  border: none;
  padding: 8px;
  color: white;
  font-size: 18px;
  font-family: 'Noto Sans', sans-serif;
  position: relative;
  margin: relative;
  background-color: #5a7b51;
  right: 20%;
}
  
/*----------------------------------------
  Menu Layout
----------------------------------------*/
#menu {
  position: fixed;
  width: 100vw; 
  height: 100vh;
  background-image: radial-gradient(#beefae,#c5f1b6, #cbf2be, #abd79d);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}
#menu h1 {
  font-size: 6rem;
  color: #ffffff;
  text-shadow: 5px 5px 2px #abbd7b;
  font-family: 'Times New Roman', Times, serif;
}
  
#menu a {
  font-size: 2rem;
  color: #b4853e;
  font-family: 'Times New Roman', Times, serif;
}
#start-button {
  margin-top: 2em;
  font-size: 2rem;
  font-weight: bold;
  padding: 0.5em 1.2em;
  border: none;
  border-radius: 0.3em;
  background: #5a7b51;
  color: #fff;
  cursor: pointer;
  text-shadow: 1px 1px 10px #000;
  box-shadow: 0px 5px 2px #384b32;
}
#start-button:hover {
  background-color: saddlebrown;
}
#start-button:active {
  top: 10px;
  -webkit-box-shadow:inset 0 1px 0 #9cb097, inset 0 -3px 0 #384b32;
  -moz-box-shadow:inset 0 1px 0 #9cb097, inset 0 -3px 0 #384b32;
  box-shadow:inset 0 1px 0 #9cb097, inset 0 -3px 0 #384b32;
}
#start-button:after {
  content:"";
  padding:4px;
  position: absolute;
  bottom:-15px;
  left:-4px;
  z-index:-1;
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  border-radius: 5px;
}
#menu[hidden] {
  display: none;
}
.flower-strip {
  background-image: url('../assets/background/flower-background.png');
  position: fixed;
  background-position: center bottom;
  height: 100%;
  width: 100%;
  z-index: -1;
  background-repeat: no-repeat;
  pointer-events: none;
}
.flower, .flower:after, .flower:before {
  content: '';
  position: absolute;
  top: -650px;
  left: 0;
  right: 0;
  bottom: 0;
  background-image:
    url('../assets/background/flower-blue.png'),
    url('../assets/background/flower-orange.png'),
    url('../assets/background/flower-transparent.png'),
    url('../assets/background/flower-orange.png'),
    url('../assets/background/flower-transparent.png'),
    url('../assets/background/flower-orange.png'),
    url('../assets/background/flower-blue.png'),
    url('../assets/background/flower-transparent.png'),
    url('../assets/background/flower-blue.png'),
    url('../assets/background/flower-orange.png'),
    url('../assets/background/flower-blue.png'),
    url('../assets/background/flower-blue.png'),
    url('../assets/background/flower-orange.png'),
    url('../assets/background/flower-transparent.png'),
    url('../assets/background/flower-orange.png'),
    url('../assets/background/flower-transparent.png'),
    url('../assets/background/flower-orange.png'),
    url('../assets/background/flower-blue.png'),
    url('../assets/background/flower-transparent.png'),
    url('../assets/background/flower-blue.png'),
    url('../assets/background/flower-orange.png');
  background-size: 1vw;
  background-repeat: no-repeat;
  background-position:
  left 50% top 10%,
  left 66% top 18%,
  left 82% top 30%,
  left 75% top 42%,
  left 60% top 50%,
  left 45% top 58%,
  left 32% top 66%,
  left 20% top 74%,
  left 24% top 82%,
  left 39% top 88%,
  left 54% top 92%,
  left 70% top 87%,
  left 85% top 78%,
  left 90% top 68%,
  left 77% top 56%,
  left 61% top 45%,
  left 46% top 38%,
  left 30% top 32%,
  left 15% top 22%,
  left 23% top 14%;
  pointer-events: none;
  /* transform: rotate(180deg); */
  animation: leafAnim 3s linear infinite;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-fill-mode: forwards;
}
.flower:after {
  margin: left -250px;
  opacity: 0.5;
  filter: blur(10px);
  animation-direction: reverse;
  animation-duration: 6s;
}
.flower:before {
  margin: left -550px;
  opacity: 0.7;
  filter: blur(10px);
  animation-direction: reverse;
  animation-duration: 9s;
}
@keyframes leafAnim {
  0% {
    transform: translateY(0px);
    /* background-position-y: 0; */
  }
  100% {
    transform: translateY(750px);
    /* background-position-y: 650px; */
  }
}

/*---------------------------------------
  Board Layout 
----------------------------------------*/

#board-layout {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/*---------------------------------------
  Grid Container styling 
----------------------------------------*/

#grid-container {
  display: grid;
  gap: 1px;
  padding: 10px;
  background: #333;
  border-radius: 10px;

  grid-template-columns: repeat(var(--grid-cols), 1fr); 
  grid-auto-rows: 1fr;
  width: 100%;
  max-width: calc(var(--grid-cols) * var(--card-max-width));
  box-sizing: border-box;
  margin: 10px auto;
}

/* Individual Grid Cell */
.grid-cell {
  background-color: #bcecac;
  border-radius: 5px;
  border: 1px solid #999;
  aspect-ratio: var(--card-aspect);
  display: flex;
  justify-content: center;
  align-items: center;
  color: #333;
  min-width: 0;
  min-height: 0;
}

.grid-cell.drag-over {
  border: 2px dashed blue;
  background-color: #d3f9d3;
}

/*---------------------------------------
  Hand Container styling 
----------------------------------------*/

#hand-container {
  display: grid;
  gap: 1px;
  padding: 10px;
  background: #333;
  border-radius: 10px;
  grid-template-columns: repeat(6, 1fr);
  grid-auto-rows: 1fr;
  width: 100%;
  max-width: calc(6 * var(--card-max-width));
  box-sizing: border-box;
  margin: 20px auto;
}

.hand-cell {
  background-color: #bcecac;
  border-radius: 5px;
  border: 1px solid #999;
  aspect-ratio: var(--card-aspect);
  display: flex;
  justify-content: center;
  align-items: center;
  color: #333;

  min-width: 0;
  min-height: 0;
}

/*---------------------------------------
  Card styling and dragging
----------------------------------------*/

.card {
  background-color: #ecd6ac;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  cursor: grab;
  display: flex;
  justify-content: center;
  align-items: center;
  user-select: none;
  z-index: 2;
  transition: transform 0.3s ease;
}

/* Card placed is no longer draggable */
.grid-cell .card {
  cursor: default;
}

/* Dragging Style */
.card.dragging {
  position: absolute;
  z-index: 1000;
  cursor: grabbing;
  opacity: 0.8;
  transition: none;
}

/* Snap-back animation when dropped */
.card.snapping-back {
  position: absolute;
  z-index: 1000;
  transition: top 0.5s ease, left 0.5s ease;
  opacity: 1;
}

/*---------------------------------------
  Internal container 
----------------------------------------*/

#internal {
  padding-left: 52px;
  padding-right: 52px;
  padding-top: 145px;
  padding-top: 145px;
  background-color: red;
}

/*---------------------------------------
  Image container
----------------------------------------*/

img {
  width: 100%;
  height: 100%;
  object-fit: fill;
}


#board-layout {
  display: flex;  
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/*---------------------------------------
  Responsive Layout 
----------------------------------------*/

@media (orientation: landscape) and (max-height: 860px) {
  #board-layout {
    flex-direction: row;
    justify-content: center;
    gap: 24px;
  }
  #hand-container {
    grid-template-columns: repeat(2, 1fr) !important;
    max-width: calc(2 * var(--card-max-width)) !important;
  }
}

.modal {
  position: fixed;
  background-color: rgba(0, 0, 0, 0.4);
  display: none;
  justify-content: center;
  z-index: 2;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.modal-content {
  background: #595959;
  border-radius: 6px;
  padding: 2em;
  text-align: center;
  justify-content: center;
  align-items: center;
  margin: 15% auto;
  width: 45em;
  height: 10em;
  flex-direction: column;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
}

#modal-text {
  color: white;
  font-family: 'Times New Roman', Times, serif;
  font-weight: bold;
  font-size: 35px;
}

#modal-button {
  background: #5a7b51;
  font-size: 25px;
  font-weight: bold;
  border: none;
  border-radius: 10px;
  display: inline-block;
  color: white;
  padding-left: 25px;
  padding-right: 25px;
  padding-top: 4px;
  padding-bottom: 4px;
}

#modal-button:hover {
  background: #4a6b41;
  cursor: pointer;
}